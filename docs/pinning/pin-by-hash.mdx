---
id: pinByHash
title: ''
---

## URL
https://api.decoo-cloud.cn/pinning/pinByHash

## 描述
通过CID异步地上传IPFS文件到Decoo Cloud。每一次API调用会生成一个*pin job*，由Decoo Cloud后台定时处理。您可以调用 [pinJobs](pinning/pin-jobs.mdx) API查询这些Job的状态。

:::note
为了确保文件能够成功地拉取并存储到Decoo Cloud，该文件应该事先Pin在某个IPFS节点。
:::

## 请求类型
POST

## Headers
```
"Authorization": "Bearer <YOUR_API_KEY>"
```

## Body

Request body 格式如下：
```json
{
  "hashToPin": "<文件CID>"
}
```

在上传文件的同时，可以附加一些metadata。这些metadata可以在调用 [pinList](pinning/pin-list.mdx) 查询文件列表时做为过滤条件。
```json
"decooMetadata": {
  "name": "<自定义文件名>"
}
```

## Response
```json
{
  "HashToPin": "<上传文件的IPFS CID>",
  "JobId": "<Pin Job的ID>",
  "JobStatus": "<Pin Job的当前状态。如果请求成功，当前状态应该为'queued'>"
}
```

## Curl请求示例
```sh
curl -X POST "https://api.decoo-cloud.cn/pinning/pinByHash" \
  -H "Authorization: Bearer <YOUR_API_KEY>" \
  -H "Content-Type: application/json" \
  -d '{"hashToPin": "<HASH_TO_PIIN>", "decooMetadata": {"name": "我的文件"}}'
```
